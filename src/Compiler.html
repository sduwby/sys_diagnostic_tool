<!DOCTYPE html>
<html>
<head>
    <title>代码加密编译器</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f4f4; }
        textarea { width: 100%; height: 200px; margin-bottom: 10px; font-family: monospace; }
        button { padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h2>1. 粘贴你的原始代码 (HTML/CSS/JS)</h2>
    <textarea id="input" placeholder="在这里粘贴你的完整游戏代码..."></textarea>
    <button onclick="compile()">生成加密 Payload</button>
    
    <h2>2. 生成的密文 (复制到 Loader 中)</h2>
    <textarea id="output" readonly></textarea>

    <script>
        function compile() {
            const code = document.getElementById('input').value;
            if(!code) return alert("请输入代码");
            
            // 加密逻辑：UTF8编码 -> 异或运算(0x42) -> Base64
            const encoded = unescape(encodeURIComponent(code));
            let xored = "";
            for (let i = 0; i < encoded.length; i++) {
                xored += String.fromCharCode(encoded.charCodeAt(i) ^ 0x42);
            }
            const payload = btoa(xored);
            document.getElementById('output').value = payload;
        }
    </script>
</body>
</html>